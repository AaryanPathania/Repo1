:root {
  --container-max: 1200px;
  --gutter: 24px;
  --color-bg: #ffffff;
  --color-surface: #f8fafc;
  --color-border: #e5e7eb;
  --color-text: #0f172a;
  --color-muted: #475569;
  --color-accent: #1d4ed8;
  --color-accent-2: #0ea5e9;
  --color-accent-3: #9333ea;
  --color-cta: #ef4444;
  --radius: 10px;
  --shadow: 0 1px 2px rgba(0,0,0,0.05), 0 8px 24px rgba(0,0,0,0.08);
  --header-height: 64px;
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  color: var(--color-text);
  background: var(--color-bg);
  line-height: 1.6;
}

.container {
  max-width: var(--container-max);
  margin: 0 auto;
  padding: 0 var(--gutter);
}

.site-header {
  position: sticky;
  top: 0;
  z-index: 50;
  background: rgba(255,255,255,0.85);
  backdrop-filter: blur(6px);
  border-bottom: 1px solid var(--color-border);
}
.site-header__inner {
  display: grid;
  grid-template-columns: 1fr auto auto;
  align-items: center;
  height: var(--header-height);
  gap: 16px;
}
.brand__link { display: inline-flex; align-items: center; gap: 10px; text-decoration: none; color: inherit; }
.brand__logo { width: 32px; height: 32px; border-radius: 8px; }
.brand__name { font-weight: 700; letter-spacing: 0.2px; }

.site-nav { display: none; gap: 16px; }
.site-nav__item { color: var(--color-muted); text-decoration: none; font-weight: 500; }
.site-nav__item:hover { color: var(--color-text); }

.site-actions { display: none; }
.btn {
  appearance: none;
  border: 1px solid var(--color-border);
  background: #fff;
  color: var(--color-text);
  padding: 8px 14px;
  border-radius: 8px;
  font-weight: 600;
  cursor: pointer;
}
.btn--primary { background: var(--color-accent); color: #fff; border-color: transparent; }
.btn--ghost { background: #fff; color: var(--color-text); }
.btn:hover { box-shadow: var(--shadow); }

.breadcrumb {
  border-bottom: 1px solid var(--color-border);
  background: var(--color-surface);
}
.breadcrumb__list {
  list-style: none; margin: 0; padding: 8px 0; display: flex; gap: 8px; flex-wrap: wrap; color: var(--color-muted);
}
.breadcrumb__list li a { color: inherit; text-decoration: none; }
.breadcrumb__list li::after { content: "/"; margin-left: 8px; color: var(--color-border); }
.breadcrumb__list li:last-child::after { content: ""; }

.layout {
  display: grid;
  grid-template-columns: 260px minmax(0,1fr) 300px;
  gap: 28px;
  padding-top: 24px;
  padding-bottom: 48px;
}

.toc { position: relative; }
.toc__inner {
  position: sticky;
  top: calc(var(--header-height) + 16px);
  border: 1px solid var(--color-border);
  border-radius: var(--radius);
  padding: 16px;
  background: #fff;
}
.toc__title { font-weight: 700; margin-bottom: 8px; }
.toc__nav { font-size: 14px; }
.toc__nav a { color: var(--color-muted); text-decoration: none; display: block; padding: 6px 0; border-radius: 6px; }
.toc__nav a:hover { color: var(--color-text); }
.toc__nav .active { color: var(--color-accent); font-weight: 600; }
.toc__nav ul { list-style: none; padding-left: 0; margin: 0; }
.toc__nav ul ul { padding-left: 14px; border-left: 2px solid var(--color-border); margin-left: 8px; }

.article-header { margin-bottom: 16px; }
.article-title { font-family: Merriweather, Georgia, Cambria, "Times New Roman", Times, serif; font-size: 36px; line-height: 1.25; margin: 8px 0 12px; }
.article-labels { display: flex; gap: 8px; margin-top: 4px; }
.label { display: inline-block; background: var(--color-surface); border: 1px solid var(--color-border); color: var(--color-muted); padding: 4px 8px; border-radius: 999px; font-size: 12px; }
.label--accent { background: #ecfeff; color: #0e7490; border-color: #a5f3fc; }

.article-meta { color: var(--color-muted); font-size: 14px; }
.meta-row { display: flex; flex-wrap: wrap; gap: 12px; align-items: center; margin: 6px 0; }
.metrics { gap: 20px; }
.metric { display: grid; gap: 2px; }
.metric strong { font-size: 18px; color: var(--color-text); }
.metric span { font-size: 12px; }

.article-actions { display: flex; gap: 8px; margin: 12px 0 24px; }

.article { min-width: 0; }
.article h2 { font-family: Merriweather, Georgia, Cambria, "Times New Roman", Times, serif; font-size: 28px; margin: 28px 0 10px; line-height: 1.3; }
.article h3 { font-weight: 700; margin: 20px 0 8px; }
.article p { margin: 12px 0; }
.article a { color: var(--color-accent); text-decoration: none; }
.article a:hover { text-decoration: underline; }

.references { padding-left: 18px; }

.sidebar { position: relative; }
.sidebar .card {
  position: sticky;
  top: calc(var(--header-height) + 16px);
  border: 1px solid var(--color-border);
  border-radius: var(--radius);
  background: #fff;
  box-shadow: var(--shadow);
  margin-bottom: 16px;
}
.card__title { font-weight: 700; padding: 12px 14px; border-bottom: 1px solid var(--color-border); }
.card__content { padding: 14px; }
.card__list { list-style: none; margin: 0; padding: 14px; }
.card__list li { margin: 8px 0; }

.actions .action { display: block; width: 100%; text-align: left; padding: 10px 12px; border: 1px solid var(--color-border); border-radius: 8px; margin-bottom: 8px; background: #fff; color: var(--color-text); text-decoration: none; }
.actions .action:hover { box-shadow: var(--shadow); }

.tags { display: flex; flex-wrap: wrap; gap: 8px; }
.tag { background: #f1f5f9; color: #0f172a; border: 1px solid #e2e8f0; padding: 4px 8px; border-radius: 999px; font-size: 12px; }

.site-footer { border-top: 1px solid var(--color-border); background: var(--color-surface); color: var(--color-muted); }
.site-footer .container { display: flex; justify-content: space-between; align-items: center; padding: 18px var(--gutter); }
.footer-nav a { color: inherit; text-decoration: none; margin-left: 14px; }
.footer-nav a:hover { color: var(--color-text); }

/* Responsive */
@media (min-width: 900px) {
  .site-nav { display: flex; }
  .site-actions { display: block; }
}

@media (max-width: 1024px) {
  .layout { grid-template-columns: 1fr; }
  .toc__inner, .sidebar .card { position: static; }
  .toc { order: 2; }
  .sidebar { order: 3; }
  .article { order: 1; }
}

/* Smooth anchors */
html { scroll-behavior: smooth; }